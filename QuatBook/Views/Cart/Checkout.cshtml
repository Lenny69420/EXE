@model IEnumerable<QuatBook.Dto.CartDTO>
@{
	ViewData["Title"] = "Checkout";
	Layout = "_LayoutCustomer";
}
<style>
	body {
		font-family: 'Arial', sans-serif;
		line-height: 1.6;
	}

	.breadcrumbs-area {
		background: #f8f9fa;
		padding: 15px 0;
	}

	.entry-title {
		font-size: 2.5rem;
		font-weight: 700;
		color: #333;
	}

	.accordion-button {
		background: #fff;
		color: #007bff;
		font-weight: 500;
	}

		.accordion-button:not(.collapsed) {
			background: #007bff;
			color: #fff;
		}

	.form-control, .form-select {
		border-radius: 5px;
		padding: 10px;
		border: 1px solid #ced4da;
	}

		.form-control:focus, .form-select:focus {
			border-color: #007bff;
			box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
		}

	.btn-primary, .btn-success, .btn-outline-success {
		padding: 10px 20px;
		border-radius: 5px;
		font-weight: 500;
	}

		.btn-primary:hover, .btn-success:hover {
			opacity: 0.9;
		}

	.billing-details, .your-order {
		background: #fff;
		border: 1px solid #e9ecef;
	}

	.table {
		margin-bottom: 0;
	}

		.table th, .table td {
			vertical-align: middle;
		}

	.order-button-payment .btn {
		width: 100%;
		padding: 12px;
		font-size: 1.1rem;
	}
</style>

<!-- breadcrumbs-area -->
<div class="breadcrumbs-area mb-5">
	<div class="container">
		<nav aria-label="breadcrumb">
			<ol class="breadcrumb">
				<li class="breadcrumb-item"><a href="#">Home</a></li>
				<li class="breadcrumb-item active" aria-current="page">Checkout</li>
			</ol>
		</nav>
	</div>
</div>

<!-- entry-header-area -->
<div class="entry-header-area mb-5">
	<div class="container">
		<h1 class="entry-title">Checkout</h1>
	</div>
</div>

<!-- checkout-area -->
<div class="checkout-area mb-5">
	<div class="container">
		<form asp-action="Checkout" asp-controller="Cart" method="post">
			<div class="row">
				<div class="col-lg-6">
					<div class="billing-details p-4 shadow-sm rounded">
						<h3 class="mb-4">Billing Details</h3>
						<div class="row g-3">
							<div class="form-check my-3">
								<input type="checkbox" name="GiongKhachHang" class="form-check-input" id="GiongKhachHang" value="true">
								<label class="form-check-label" for="GiongKhachHang">Giống thông tin khách hàng?</label>
							</div>
							<div class="col-12">
								<label class="form-label">Full Name <span class="text-danger">*</span></label>
								<input type="text" class="form-control" name="FullName" required>
							</div>
							<div class="col-12">
								<label class="form-label">Address <span class="text-danger">*</span></label>
								<input type="text" class="form-control" name="Address" placeholder="Street address" required>
							</div>
							<div class="col-12">
								<label class="form-label">Phone <span class="text-danger">*</span></label>
								<input type="text" class="form-control" name="Phone" required>
							</div>
							<div class="col-12">
								<label class="form-label">Note</label>
								<textarea class="form-control" name="Note" placeholder="Notes about your order, e.g. special notes for delivery." rows="4"></textarea>
							</div>
						</div>
					</div>
				</div>

				<div class="col-lg-6">
					<div class="your-order p-4 shadow-sm rounded">
						<h3 class="mb-4">Your Order</h3>
						<div class="table-responsive">
							<table class="table">
								<thead>
									<tr>
										<th>Product</th>
										<th>Total</th>
									</tr>
								</thead>
								<tbody>
									@foreach (var item in Model)
									{
										<tr>
											<td class="d-flex align-items-center gap-3">
												<img src="~/img/product/@item.Image" class="img-fluid rounded-circle" style="width: 60px; height: 60px;" alt="@item.BookName">
												<span>@item.BookName <strong>× @item.Quantity</strong></span>
											</td>
											<td>@item.Ammount.ToString("#,##0.00") VND</td>
										</tr>
									}
								</tbody>
								<tfoot>
									<tr>
										<th>Subtotal</th>
										<td>@Model.Sum(p => p.Ammount).ToString("#,##0.00") VND</td>
									</tr>
									<tr>
										<th>Order Total</th>
										<td><strong>@Model.Sum(p => p.Ammount).ToString("#,##0.00") VND</strong></td>
									</tr>
								</tfoot>
							</table>
						</div>
						<div class="payment-method mt-4">
							<div class="accordion" id="paymentAccordion">
								<div class="accordion-item">
									<h2 class="accordion-header">
										<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#payment1">
											Payment Options
										</button>
									</h2>
									<div id="payment1" class="accordion-collapse collapse show">
										<div class="accordion-body">
											<div class="form-check mb-3">
												<input class="form-check-input" type="radio" name="PaymentMethod" id="cod" value="COD" checked>
												<label class="form-check-label" for="cod">
													COD (Cash on Delivery) - Thanh toán khi nhận hàng
												</label>
											</div>
											<div class="form-check mb-3">
												<input class="form-check-input" type="radio" name="PaymentMethod" id="vnpay" value="VNPAY">
												<label class="form-check-label" for="vnpay">
													VNPAY - Thanh toán qua VNPAY
												</label>
											</div>
											<div class="form-check">
												<input class="form-check-input" type="radio" name="PaymentMethod" id="vietqr" value="VietQR">
												<label class="form-check-label" for="vietqr">
													VietQR - Thanh toán qua VietQR
												</label>
											</div>
										</div>
									</div>
								</div>
							</div>
							<button type="submit" class="btn btn-success w-100 mt-4">Place Order</button>
						</div>
					</div>
				</div>
			</div>
		</form>
	</div>
</div>